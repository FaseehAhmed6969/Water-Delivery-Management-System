<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HydroTrack â€“ Bottle Delivery System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <span class="brand-logo">ðŸ’§</span>
      <span class="brand-title">HydroTrack</span>
    </div>
    <nav class="nav">
      <button id="nav-login" class="nav-btn">Login</button>
      <button id="nav-register" class="nav-btn secondary">Register</button>
      <button id="nav-dashboard" class="nav-btn hidden">Dashboard</button>
      <button id="nav-logout" class="nav-btn danger hidden">Logout</button>
    </nav>
  </header>

  <main class="main">
    <!-- Auth section -->
    <section id="auth-section" class="card auth-card">
      <div class="tab-header">
        <button id="tab-login" class="tab active">Login</button>
        <button id="tab-register" class="tab">Register</button>
      </div>

      <form id="login-form" class="form active">
        <h2>Sign in</h2>
        <label>Email
          <input type="email" name="email" required />
        </label>
        <label>Password
          <input type="password" name="password" required />
        </label>
        <button type="submit" class="btn primary">Login</button>
      </form>

      <form id="register-form" class="form">
        <h2>Create account</h2>
        <div class="form-grid">
          <label>Name
            <input type="text" name="name" required />
          </label>
          <label>Email
            <input type="email" name="email" required />
          </label>
          <label>Password
            <input type="password" name="password" required minlength="6" />
          </label>
          <label>Phone
            <input type="text" name="phone" />
          </label>
          <label>Address
            <input type="text" name="address" />
          </label>
          <label>Role
            <select name="role">
              <option value="customer">Customer</option>
              <option value="worker">Delivery Worker</option>
            </select>
          </label>
        </div>
        <button type="submit" class="btn primary">Register</button>
      </form>
    </section>

    <!-- Dashboard -->
    <section id="dashboard-section" class="hidden">
      <h2 id="dashboard-title">Dashboard</h2>
      <p class="muted" id="dashboard-subtitle"></p>

      <!-- Notification banner -->
      <div id="pause-banner" class="banner banner-warning hidden"></div>
      <div id="alerts-banner" class="banner banner-danger hidden"></div>

      <!-- Tabs -->
      <div id="role-tabs" class="tab-header spaced hidden">
        <button data-panel="customer-panel" class="tab role-tab">Customer</button>
        <button data-panel="admin-panel" class="tab role-tab">Admin</button>
        <button data-panel="worker-panel" class="tab role-tab">Delivery Worker</button>
      </div>

      <!-- Customer panel -->
      <div id="customer-panel" class="role-panel hidden">
        <div class="grid-2">
          <!-- Place order -->
          <div class="card">
            <h3>Place Order</h3>
            <form id="place-order-form" class="form slim">
              <label>Bottle size
                <select name="bottleSize" required>
                  <option value="">Select size</option>
                  <option value="6L">6L Bottle</option>
                  <option value="12L">12L Bottle</option>
                  <option value="19L">19L Bottle</option>
                </select>
              </label>
              <label>Quantity
                <input type="number" name="quantity" min="1" value="1" required />
              </label>
              <label>Delivery address
                <input type="text" name="address" placeholder="Leave blank to use profile address" />
              </label>
              <label>Delivery zone
                <select name="zone">
                  <option value="Zone A">Zone A (Nearby)</option>
                  <option value="Zone B">Zone B (City)</option>
                  <option value="Zone C">Zone C (Outskirts)</option>
                </select>
              </label>
              <label>Payment method
                <select name="paymentMethod">
                  <option value="COD">Cash on Delivery (COD)</option>
                  <option value="Easypaisa">Easypaisa</option>
                  <option value="JazzCash">JazzCash</option>
                  <option value="BankTransfer">Bank Transfer</option>
                </select>
              </label>
              <fieldset class="inline">
                <legend>Subscription</legend>
                <label>
                  <input type="checkbox" name="isSubscription" />
                  Weekly/Monthly subscription
                </label>
                <label>
                  Plan
                  <select name="subscriptionPlan">
                    <option value="">One-time order</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                  </select>
                </label>
              </fieldset>
              <button type="submit" class="btn primary full">Submit Order</button>
              <p class="muted tiny">
                Orders may be paused during maintenance or holidays.
              </p>
            </form>
          </div>

          <!-- Profile & notifications -->
          <div class="card">
            <h3>My Profile</h3>
            <form id="profile-form" class="form slim">
              <label>Name
                <input type="text" name="name" disabled />
              </label>
              <label>Email
                <input type="email" name="email" disabled />
              </label>
              <label>Phone
                <input type="text" name="phone" />
              </label>
              <label>Address
                <input type="text" name="address" />
              </label>
              <label>Loyalty points
                <input type="text" name="loyaltyPoints" disabled />
              </label>
              <button type="submit" class="btn secondary full">Update Contact</button>
            </form>

            <h3>Notifications</h3>
            <ul id="notifications-list" class="list small"></ul>
          </div>
        </div>

        <!-- Order history & issues -->
        <div class="grid-2 mt-lg">
          <div class="card">
            <div class="card-header row-between">
              <h3>Order History</h3>
              <button id="refresh-history" class="btn tiny">Refresh</button>
            </div>
            <table class="table" id="history-table">
              <thead>
                <tr>
                  <th>Order</th>
                  <th>Date</th>
                  <th>Size</th>
                  <th>Qty</th>
                  <th>Status</th>
                  <th>Payment</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="card">
            <h3>Report Issue / Damage</h3>
            <form id="issue-form" class="form slim">
              <label>Order ID (optional)
                <input type="text" name="orderId" placeholder="ORD-..." />
              </label>
              <label>Category
                <select name="category">
                  <option value="delivery">Delivery issue</option>
                  <option value="damage">Damaged bottle</option>
                  <option value="billing">Billing/payment</option>
                  <option value="other">Other</option>
                </select>
              </label>
              <label>Description
                <textarea name="description" rows="4" required></textarea>
              </label>
              <button type="submit" class="btn danger full">Submit Issue</button>
            </form>
          </div>
        </div>
      </div>

      <!-- Admin panel -->
      <div id="admin-panel" class="role-panel hidden">
        <div class="grid-2">
          <!-- Summary cards -->
          <div class="card">
            <h3>Summary</h3>
            <div class="summary-grid" id="summary-cards"></div>
          </div>

          <!-- Pause / Resume -->
          <div class="card">
            <h3>Order Intake Control</h3>
            <form id="settings-form" class="form slim">
              <label>
                <input type="checkbox" name="isOrderingPaused" />
                Pause new orders
              </label>
              <label>Reason
                <input type="text" name="pauseReason" placeholder="Maintenance, Eid holidays, etc." />
              </label>
              <button type="submit" class="btn secondary full">Save Settings</button>
            </form>

            <h3 class="mt-md">Pending Alerts</h3>
            <button id="load-alerts" class="btn tiny">Check long-pending orders</button>
          </div>
        </div>

        <!-- Customers & workers -->
        <div class="grid-2 mt-lg">
          <div class="card">
            <div class="card-header row-between">
              <h3>Customers</h3>
              <input type="search" id="customer-search" placeholder="Search..." />
            </div>
            <table class="table" id="customers-table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th>Branch</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="card">
            <div class="card-header row-between">
              <h3>Workers</h3>
              <button id="refresh-workers" class="btn tiny">Refresh</button>
            </div>
            <table class="table" id="workers-table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Branch</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <!-- Orders and assignment -->
        <div class="card mt-lg">
          <div class="card-header row-between">
            <h3>Orders</h3>
            <div class="inline">
              <select id="orders-status-filter">
                <option value="">All statuses</option>
                <option value="Pending">Pending</option>
                <option value="Assigned">Assigned</option>
                <option value="OutForDelivery">Out for delivery</option>
                <option value="Delivered">Delivered</option>
                <option value="Cancelled">Cancelled</option>
              </select>
              <button id="refresh-orders" class="btn tiny">Refresh</button>
            </div>
          </div>
          <table class="table" id="orders-table">
            <thead>
              <tr>
                <th>Order</th>
                <th>Customer</th>
                <th>Zone</th>
                <th>Status</th>
                <th>Worker</th>
                <th>Payment</th>
                <th>Rating</th>
                <th>Assign</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Reports, loyalty & campaigns -->
        <div class="grid-3 mt-lg">
          <div class="card">
            <h3>Revenue Report</h3>
            <form id="revenue-form" class="form slim">
              <label>From
                <input type="date" name="startDate" />
              </label>
              <label>To
                <input type="date" name="endDate" />
              </label>
              <button type="submit" class="btn tiny full">Generate</button>
            </form>
            <pre id="revenue-output" class="code-block small"></pre>
          </div>

          <div class="card">
            <h3>Loyal Customers</h3>
            <button id="load-loyalty" class="btn tiny full">Load Loyalty Data</button>
            <table class="table tiny" id="loyalty-table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Orders</th>
                  <th>Tier</th>
                  <th>Points</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="card">
            <h3>Promotional Campaign</h3>
            <form id="campaign-form" class="form slim">
              <label>Audience
                <select name="audience">
                  <option value="customers">Customers</option>
                  <option value="workers">Workers</option>
                  <option value="all">All users</option>
                </select>
              </label>
              <label>Title
                <input type="text" name="title" required />
              </label>
              <label>Message
                <textarea name="message" rows="3" required></textarea>
              </label>
              <button type="submit" class="btn primary full">Send Campaign</button>
            </form>
          </div>
        </div>

        <!-- Issues -->
        <div class="card mt-lg">
          <div class="card-header row-between">
            <h3>Customer Issues</h3>
            <button id="refresh-issues" class="btn tiny">Refresh</button>
          </div>
          <table class="table tiny" id="issues-table">
            <thead>
              <tr>
                <th>Ticket</th>
                <th>Customer</th>
                <th>Order</th>
                <th>Category</th>
                <th>Description</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- Worker panel -->
      <div id="worker-panel" class="role-panel hidden">
        <div class="grid-2">
          <div class="card">
            <div class="card-header row-between">
              <h3>My Assigned Orders</h3>
              <button id="refresh-worker-orders" class="btn tiny">Refresh</button>
            </div>
            <table class="table" id="worker-orders-table">
              <thead>
                <tr>
                  <th>Order</th>
                  <th>Customer</th>
                  <th>Address</th>
                  <th>Status</th>
                  <th>Payment</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="card">
            <div class="card-header row-between">
              <h3>Optimized Route</h3>
              <button id="refresh-routes" class="btn tiny">Refresh</button>
            </div>
            <table class="table tiny" id="routes-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Order</th>
                  <th>ETA (min)</th>
                  <th>Navigate</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>

            <h3 class="mt-md">COD / Payments</h3>
            <button id="refresh-payments" class="btn tiny">Refresh</button>
            <table class="table tiny" id="payments-table">
              <thead>
                <tr>
                  <th>Order</th>
                  <th>Method</th>
                  <th>Status</th>
                  <th>Charge</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast hidden"></div>

  <script src="app.js"></script>
</body>
</html>
